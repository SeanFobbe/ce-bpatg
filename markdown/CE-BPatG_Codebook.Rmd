---
title: "Codebook | Corpus der Entscheidungen des Bundespatentgerichts (CE-BPatG)"
author: Seán Fobbe
geometry: margin=3cm
papersize: a4
fontsize: 11pt
output:
  pdf_document:
    toc: true
    toc_depth: 3
    number_sections: true
    pandoc_args: --listings
    includes:
      in_header: Preamble_DE.tex
      before_body: [../temp/CE-BPatG_Definitions.tex, ../tex/CE-BPatG_CodebookTitle.tex]
---


```{r, setup, include=FALSE}
knitr::opts_chunk$set(fig.path = file.path("..", "analysis/"),
                      dev = config$fig$format,
                      dpi = config$fig$dpi,
                      fig.align = config$fig$align,
		      echo = FALSE,
		      warning = FALSE,
		      message = FALSE)

```



```{r, echo=FALSE}
tar_load(latexdefs)
tar_load(dt.bpatg.meta)
tar_load(files.pdf)
tar_load(files.txt)
tar_load(variables)
tar_load(lingstats_summary)

```



# Erläuterung der Variablen

```{r}
kable(variables,
      format = "latex",
      align = 'P{3.5cm}P{3cm}p{8cm}',
      booktabs = TRUE,
      longtable = TRUE,
      escape = FALSE,
      col.names = c("Variable",
                    "Typ",
                    "Erläuterung"))  %>% kable_styling(latex_options = "repeat_header")
```





\newpage


# Senatsgruppen am Bundespatentgericht

\label{senatsgruppe}

\begin{centering}
\begin{longtable}{p{5cm}p{8cm}}

\toprule

Codierung & Senatsgruppe\\

\midrule


GebrM & Gebrauchsmuster-Beschwerdesenat\\
JurBeschw & Juristischer Beschwerdesenat\\
JurBeschwNichtigkeit & Juristischer Beschwerdesenat und Nichtigkeitssenat\\
Marken & Marken-Beschwerdesenat\\
MarkenDesign & Marken- und Design-Beschwerdesenat\\
Nichtigkeit & Nichtigkeitssenat\\
Sortensch & Sortenschutz-Beschwerdesenat\\
TechnBeschw & Technischer Beschwerdesenat\\

\bottomrule

\end{longtable}
\end{centering}



\vspace{1cm}








# Registerzeichen am Bundespatentgericht

Die im Datensatz enthaltenen Registerzeichen wurden jeweils um die runden Klammern bereinigt, um Probleme bei der Nutzung unter Windows zu vermeiden.


\vspace{0.5cm}

\label{register}

\ra{1.2}

\begin{centering}
\begin{longtable}{p{2cm}p{2cm}p{10cm}}

\toprule

Register- zeichen & Codierung & Erläuterung\\

\midrule


Li & Li & Zwangslizenzverfahren \\
LiQ & LiQ & Einstweilige Verfügungen in Zwangslizenzverfahren\\
Ni & Ni &  Patentnichtigkeitsverfahren \\
W-(pat) & W-pat & Beschwerdeverfahren in Patentsachen, Gebrauchsmustersachen, Sortenschutzsachen, Markensachen\\
ZA-(Pat) & ZA-pat & Verfahren über Anträge außerhalb anhängiger Patentsachen\\

\bottomrule

\end{longtable}
\end{centering}







\newpage

# Linguistische Kennzahlen


## Erläuterung der Kennzahlen und Diagramme

Zur besseren Einschätzung des inhaltlichen Umfangs des Korpus dokumentiere ich an dieser Stelle die Verteilung der Werte für einige klassische linguistische Kennzahlen:

\medskip

\begin{centering}
\begin{longtable}{P{3.5cm}p{10.5cm}}

\toprule

Kennzahl & Definition\\

\midrule

Zeichen & Zeichen entsprechen grob den \emph{Graphemen}, den kleinsten funktionalen Einheiten in einem Schriftsystem. Beispiel: das Wort \enquote{Richterin} besteht aus 9 Zeichen.\\
 
Tokens & Eine beliebige Zeichenfolge, getrennt durch whitespace-Zeichen, d.h. ein Token entspricht in der Regel einem \enquote{Wort}, kann aber auch Zahlen, Sonderzeichen oder sinnlose Zeichenfolgen enthalten, weil es rein syntaktisch berechnet wird.\\
 
Typen & Einzigartige Tokens. Beispiel: wenn das Token \enquote{Verfassungsrecht} zehnmal in einer Entscheidung vorhanden ist, wird es als ein Typ gezählt.\\
 
Sätze & Entsprechen in etwa dem üblichen Verständnis eines Satzes. Die Regeln für die Bestimmung von Satzanfang und Satzende sind im Detail aber sehr komplex und in \enquote{Unicode Standard: Annex No 29} beschrieben.\\

\bottomrule

\end{longtable}
\end{centering}

 Es handelt sich bei den Diagrammen jeweils um "Density Charts", die sich besonders dafür eignen die Schwerpunkte von Variablen mit stark schwankenden numerischen Werten zu visualisieren. Die Interpretation ist denkbar einfach: je höher die Kurve, desto dichter sind in diesem Bereich die Werte der Variable. Der Wert der y-Achse kann außer Acht gelassen werden, wichtig sind nur die relativen Flächenverhältnisse und die x-Achse.

 Vorsicht bei der Interpretation: Die x-Achse it logarithmisch skaliert, d.h. in 10er-Potenzen und damit nicht-linear. Die kleinen Achsen-Markierungen zwischen den Schritten der Exponenten sind eine visuelle Hilfestellung um diese nicht-Linearität zu verstehen.

\bigskip


## Werte der Kennzahlen

```{r}
setnames(lingstats_summary, c("Variable",
                              "Summe",
                              "Min",
                              "Quart1",
                              "Median",
                              "Mittel",
                              "Quart3",
                              "Max"))

kable(lingstats_summary,
      digits = 2,
      format.args = list(big.mark = ","),
      format = "latex",
      booktabs = TRUE,
      longtable = TRUE)
```



## Verteilung Zeichen


```{r, CE-BPatG_09_Density_Zeichen, fig.height = 6, fig.width = 9}
ggplot(data = dt.meta.bpatg)+
    geom_density(aes(x = zeichen),
                 fill = "#7e0731")+
    scale_x_log10(breaks = trans_breaks("log10", function(x) 10^x),
                  labels = trans_format("log10", math_format(10^.x)))+
    annotation_logticks(sides = "b")+
    coord_cartesian(xlim = c(1, 10^6))+
    theme_bw()+
    labs(
        title = paste(prefix.figuretitle,
                      "| Verteilung der Zeichen je Dokument"),
        caption = caption,
        x = "Zeichen",
        y = "Dichte"
    )+
    theme(
        text = element_text(size = 14),
        plot.title = element_text(size = 14,
                                  face = "bold"),
        legend.position = "none",
        plot.margin = margin(10, 20, 10, 10)
    )
```



## Verteilung Tokens

```{r,  CE-BPatG_10_Density_Tokens, fig.height = 6, fig.width = 9}
ggplot(data = dt.meta.bpatg)+
    geom_density(aes(x = tokens),
                 fill = "#7e0731")+
    scale_x_log10(breaks = trans_breaks("log10", function(x) 10^x),
                  labels = trans_format("log10", math_format(10^.x)))+
    annotation_logticks(sides = "b")+
    coord_cartesian(xlim = c(1, 10^6))+
    theme_bw()+
    labs(
        title = paste(prefix.figuretitle,
                      "| Verteilung der Tokens je Dokument"),
        caption = caption,
        x = "Tokens",
        y = "Dichte"
    )+
    theme(
        text = element_text(size = 14),
        plot.title = element_text(size = 14,
                                  face = "bold"),
        legend.position = "none",
        plot.margin = margin(10, 20, 10, 10)
    )
```


## Verteilung Typen

```{r, CE-BPatG_11_Density_Typen, fig.height = 6, fig.width = 9}
ggplot(data = dt.meta.bpatg)+
    geom_density(aes(x = typen),
                 fill = "#7e0731")+
    scale_x_log10(breaks = trans_breaks("log10", function(x) 10^x),
                  labels = trans_format("log10", math_format(10^.x)))+
    annotation_logticks(sides = "b")+
    coord_cartesian(xlim = c(1, 10^6))+
    theme_bw()+
    labs(
        title = paste(prefix.figuretitle,
                      "| Verteilung der Typen je Dokument"),
        caption = caption,
        x = "Typen",
        y = "Dichte"
    )+
    theme(
        text = element_text(size = 14),
        plot.title = element_text(size = 14,
                                  face = "bold"),
        legend.position = "none",
        plot.margin = margin(10, 20, 10, 10)
    )
```



## Verteilung Sätze

```{r, CE-BPatG_12_Density_Saetze, fig.height = 6, fig.width = 9}
ggplot(data = dt.meta.bpatg)+
    geom_density(aes(x = saetze),
                 fill = "#7e0731")+
    scale_x_log10(breaks = trans_breaks("log10", function(x) 10^x),
                  labels = trans_format("log10", math_format(10^.x)))+
    annotation_logticks(sides = "b")+
    coord_cartesian(xlim = c(1, 10^6))+
    theme_bw()+
    labs(
        title = paste(prefix.figuretitle,
                      "| Verteilung der Sätze je Dokument"),
        caption = caption,
        x = "Sätze",
        y = "Dichte"
    )+
    theme(
        text = element_text(size = 14),
        plot.title = element_text(size = 14,
                                  face = "bold"),
        legend.position = "none",
        plot.margin = margin(10, 20, 10, 10)
    )
```









# Inhalt des Korpus

## Zusammenfassung




## Spruchkörper nach Aktenzeichen

```{r}

freqtable.az <- f.fast.freqtable(dt.bpatg.meta,
		    varlist = "spruchkoerper_az",
                     sumrow = TRUE,
                 output.list = TRUE,
                 output.kable = FALSE,
                 output.csv = FALSE,
                 align = c("p{5cm}"))[[1]][,exactpercent:=NULL]

freqtable.az.nosum <- freqtable.az[-.N]

```



```{r, CE-BPatG_03_Barplot_Spruchkoerper_AZ, fig.height = 6, fig.width = 9}
ggplot(data = freqtable.az.nosum) +
    geom_bar(aes(x = reorder(spruchkoerper_az,
                             -N),
                 y = N),
             stat = "identity",
             fill = "#7e0731",
             color = "black",
             width = 0.5) +
    theme_bw() +
    labs(
        title = paste(prefix.figuretitle,
                      "| Entscheidungen je Senat (Aktenzeichen)"),
        caption = caption,
        x = "Senat",
        y = "Entscheidungen"
    )+
    theme(
        text = element_text(size = 14),
        plot.title = element_text(size = 14,
                                  face = "bold"),
        legend.position = "none",
        plot.margin = margin(10, 20, 10, 10)
    )

```


\vspace{1cm}

```{r}
kable(freqtable.az,
      format = "latex",
      align = 'P{3cm}',
      booktabs = TRUE,
      longtable = TRUE,
      col.names = c("Senat",
                    "Entscheidungen",
                    "% Gesamt",
                    "% Kumulativ"))  %>% kable_styling(latex_options = "repeat_header")

```




# Parameter für strenge Replikationen


```{r}
system2("openssl", "version", stdout = TRUE)

sessionInfo()

```
